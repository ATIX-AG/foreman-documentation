[id="setting-up-vsc-integration-for-ansible_{context}"]
= Setting up VCS integration for Ansible

With VCS integration, you can clone Ansible roles from any remote git repository directly from the {ProjectWebUI}.

.Procedure
. Create the default directory:
+
----
# mkdir -p /var/lib/foreman-proxy/ansible/roles
----
. Assign the correct permissions:
+
----
# chmod -R 060 /var/lib/foreman-proxy/ansible/roles
----
. Add the directory to the group `foreman-proxy`:
+
----
# chgrp -R foreman-proxy /var/lib/foreman-proxy/ansible/roles
----

.Optional
You may also choose a different directory to clone the roles into:

* Create the directory:
+
----
mkdir -p CUSTOM_DIRECTORY/ansible/roles
----
* Assign the correct permissions and group as above
* Pass `CUSTOM_DIRECTORY` to your {SmartProxy} via the environment variable `STATE_DIR`
+
----
STATE_DIR=CUSTOM_DIRECTORY
----

Finally, you need to enable `vcs_integration` in the {SmartProxy} settings

.Procedure
* Append the following line `/etc/foreman-proxy/settings.d/ansible.yml`:
+
[source, yaml, options="nowrap", subs="verbatim,quotes,attributes"]
----
:vcs_integration: true
----
